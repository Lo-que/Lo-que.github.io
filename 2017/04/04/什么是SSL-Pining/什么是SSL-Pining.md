---
title: 什么是SSL Pining
date: 2017-04-04 22:53:54
tags: Learning Note
---

   >SSL(Secure Socket Layer 安全套接字层)确保客户端-服务器在HTTP请求的方式上将通讯内容加密----被指定为HTTPS(SSL上的HTTP)。这种加密体系是基于PKI(Pbulic Key Infrastructure,公钥体系)和(Session key,会话key)。其中Session key 被引进的原因是对于公钥/私钥的加密和解密会消耗处理能力，会是整个交流进程速度变慢。

　　SSL 安全---鉴定

　　SSL安全是基于证书的信任链。当一个通信开始的时候，客户端检查服务器的SSL证书，检查这个证书是否被信用根CA机构或者其他用户信任结构所信任。

　　尽管SSL通信被认为是一个非常安全的和坚不可摧的，但是中间人攻击依然还是真实存在的威胁，它可以用好几种方法去实现，例如ARP 缓存中毒、DNS 欺骗等。

　　对于ARP缓存中毒，可以简单理解为中间人通过地址解析协议的IP映射到设备的Mac地址这一特性进行攻击。例如，我们用一下三个角色来描述一个简单的网络：

　　一个普通的用户设备U

　　攻击者的设备A

　　路由器R

　　攻击者的设备A可以发送一个ARP依赖包给用户设备U，把他自己伪装成路由器R。为了完成中间人攻击，A发送另一个ARP依赖给R，告诉路由器它就是U。这样的话，A就成了U和R沟通的中间者，A就可以窃听和拦截信息。IP转发经常被用于攻击者在用户设备和路由器的无缝交流。也就是说通过IP转发，攻击者可以窃取和监听，但是用户和路由器是无感知的。

　　DNS欺骗主要在于攻击者破话服务器的域名映射。攻击者尝试强迫DNS去返回一个不正确的地址，而这个地址就是攻击者的计算机地址。

　　SSL pinning

   >https协议验证服务器身份的方式通常有三种，一是根据浏览器或者说操作系统自带的证书链；二是使用自签名证书；三是自签名证书加上SSL Pinning特性。第一种需要到知名证书机构购买证书，需要一定预算。第二种多见于内网使用。第三种在是安全性最高的，但是需要浏览器插件或客户端使用了SSL Pinning特性。

   >所以SSL Pinning，即SSL证书绑定，是验证服务器身份的一种方式，是在https协议建立通信时增加的代码逻辑，它通过自己的方式验证服务器身份，然后决定通信是否继续下去。它唯一指定了服务器的身份，所以安全性较高。

　　我们使用SSL pinning来确保app通信仅仅发生在指定的服务器上。其中的先决条件就是价格目标服务器的SSL证书放到app里面。这个证书被用于会话配置。